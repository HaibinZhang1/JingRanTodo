# ZenHubBoard 项目安装与启动文档

## 项目概述

ZenHubBoard 是一个基于 Electron + Vite + React + TypeScript 的离线桌面待办清单管理软件。

---

## 环境要求

| 环境 | 版本要求 | 说明 |
|------|----------|------|
| Node.js | v18+ 推荐 | JavaScript 运行时 |
| npm | v9+ | 包管理器 |
| Git | 最新版 | 版本控制 |

---

## 安装步骤

### 步骤 1：检查 Node.js 环境

```bash
node -v
npm -v
```

### 步骤 2：安装项目依赖

```bash
cd d:\new_work\ZenHubBoard
npm install
```

### 步骤 3：启动开发服务器

**方式一：仅启动 Vite 开发服务器（Web 模式）**
```bash
npm run dev
```
默认端口：`http://localhost:5173`

**方式二：启动 Electron 开发模式**
```bash
npm run electron:dev
```
此命令会同时启动 Vite 开发服务器和 Electron 应用。

---

## 其他命令

| 命令 | 说明 |
|------|------|
| `npm run build` | 完整构建（TypeScript + Vite + Electron Builder） |
| `npm run build:vite` | 仅构建 Vite |
| `npm run preview` | 预览构建结果 |
| `npm run electron:build` | Electron 打包构建 |

---

## 启动执行记录

### 执行时间：2025-12-15

#### 1. 检查环境
```
Node.js: v24.11.1
npm: 11.6.2
```

#### 2. 修复 PowerShell 执行策略
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

#### 3. 配置 npm 镜像源（解决网络问题）
```bash
npm config set registry https://registry.npmmirror.com
```

#### 4. 安装依赖
```bash
npm install --ignore-scripts
```
> 注意：由于系统未安装 Python，使用 `--ignore-scripts` 跳过原生模块编译

#### 5. 安装 Electron 二进制
```bash
cd node_modules/electron
npm run postinstall
cd ../..
```

#### 6. 清除环境变量（重要！）
```powershell
$env:ELECTRON_RUN_AS_NODE = $null
```
> **重要**：如果 `ELECTRON_RUN_AS_NODE` 环境变量被设置为 1，会导致 Electron 无法正常启动

#### 7. 启动项目
```bash
npm run dev
```

#### 启动成功输出
```
VITE v5.4.21  ready in 1319 ms
  ➜  Local:   http://localhost:5173/
SQLite database created at: C:\Users\ZHB\AppData\Roaming\zenhubboard\data\zenhubboard.sqlite
[Main] Database initialized
[Main] Creating main window...
[Main] App ready sequence completed
```

**状态：✅ 启动成功**

